var WordSearch=function(t){"use strict";function n(){m(Q),p(),w(q,B),b(),x(),T(),X(),y(),g(),v()}function e(t){var n=t.target;if($(n).hasClass("board-item"))return I=$(n),I.addClass("selected"),ot++,Z.push(I[0].id),ot>2?(h(),void a(Z)):void 0}function a(t){for(var n,e,a=t,o=a.length,i=Y.length,s=0,l=0,c=!1,f=0;i>f;f++){n=Y[f],s=n.length;for(var u=0;o>u;u++)n[u]===a[u]&&l++;if(o===l){c=!0,e=f;break}}c?r(a,e):d()}function r(t,n){t.length<Y[n].length?v():o(t,n)}function o(t,n){for(var e=Y[n],a=e.length,r=$("#"+e[0]).attr("data-index"),o=0;a>o;o++)$("#"+e[o]).removeClass("selected").addClass("solved");i(r,t),f(t,n),c(n);var d=l();G>d?(u(),v()):(setTimeout(function(){s()},V),setTimeout(function(){$(".board-item.solved").addClass("invisible-bg")},4*V))}function i(t,n){var e=n,a=e.length,r="";!function(){for(var t=0;a>t;t++){var n=$("#"+e[t]).attr("data-letter");r+=n}}();var o=$("#explanation-"+t).addClass("solved");o.find(".replaced-text").text(r)}function s(){for(var t=$(".board-item").filter(function(t,n){return!$(this).attr("data-active")}),n=t.length,e=0;n>e;e++)!function(n){setTimeout(function(){var e=$(t[n]);e.addClass("off-canvas"),e.css({"z-index":n})},50*n)}(e)}function l(){return it++,it}function c(t){Y.splice(t,1)}function f(t,n){var e=Y[n],a=e.length,r=[],o=0,i=0,s=0,l=0;ResizeToFullWindow.resetScale();for(var c=0;a>c;c++)$("#"+e[c]).removeClass("selected").addClass("solved"),r.push($("#"+e[c]).position());r[0].top===r[1].top?(o=r[0].left+7,i=r[0].top+7,s=60*t.length-0,l=46):(o=r[0].left+9,i=r[0].top+6,s=46,l=60*t.length+2),at.prepend('<div class="solved-cover" id="solved-'+it+'"></div>'),$("#solved-"+it).css({width:s,height:l,left:o,top:i}),ResizeToFullWindow.scale()}function d(){var t=at.find(".selected");u(),t.each(function(){$(this).removeClass("selected")}),v()}function u(){Z.length=0,ot=0}function v(){at.on(rt,e)}function h(){at.off(rt,e)}function p(){j=$(".board-item")}function m(t){for(var n,e=0;t>e;e++)n=10>e?"board-item-0"+e:"board-item-"+e,at.append('<div class="board-item" data-letter="" id='+n+"></div>")}function g(){for(var t=tt.length,n=0;t>n;n++){var e="explanation-"+n;J.append('<div class="explanation" id="'+e+'"><p><span>'+tt[n]+"</span></p></div>")}}function w(t,n){for(var e,a=[],r=t.length,o=0;r>o;o++)a.push(o);e=F(a);for(var i=0;r>i;i++){var s=t[e[i]];_.push(s);var l=n[e[i]];tt.push(l)}_.length=G,tt.length=G}function b(){for(var t=0,n=j.length;n>t;t++)nt.push(t)}function x(){F(nt)}function T(){et.length=0;for(var t=0,n=nt.length;n>t;t++)et[t]=nt[t];L=et.length}function X(){for(var t=0,n=0;G>n;n++)t=Math.random(),t>.5?(K++,A="hor",O="ver"):(N++,A="ver",O="hor"),C(A),T(),P=0,st++}function C(t){"hor"===t?W():z()}function z(){var t=E();if(!t)return P++,L>P?void z():void H()}function W(){var t=M();if(!t)return P++,L>P?void W():void H()}function E(){function t(){$(j[c]).attr("data-letter",i[d]),$(j[c]).attr("data-active",!0),$(j[c]).attr("data-index",st),u.push($(j[c])[0].id),c+=10,d++,f>d&&t()}var n=et[0];if(0===et.length)return!1;var e=""===$(j[n]).attr("data-letter")?!0:!1,a=!0;if(!e)return k(),!1;var r=parseInt(n.toString().slice(0,1)),o=9-r+1,i=_[0],s=i.length,l=o>=s;if(!l)return k(),!1;if(r>7)return k(),!1;if(function(){function t(){if(""!==$(j[e]).attr("data-letter")){var n=i[o],s=$(j[e]).attr("data-letter");if(n!==s)return a=!1,k(),!1}e+=10,o++,r>o&&t()}var e=n,r=s,o=0;t()}(),a){var c=n,f=s,d=0,u=[];t(),Y.push(u),_.shift()}return a}function k(){et.shift()}function M(){var t=et[0];if(0===et.length)return!1;var n=9-parseInt(t.toString().slice(-1))+1,e=_[0],a=e.length,r=""===$(j[t]).attr("data-letter")?!0:!1,o=n>=a,i=!0;return o&&r&&!function(){for(var n=t+a,e=t;n>e;e++)if(""!==$(j[e]).attr("data-letter")){i=!1;break}}(),o&&r&&i?(R(t,e),_.shift(),!0):(k(),!1)}function y(){j.each(function(){""===$(this).attr("data-letter")&&$(this).attr("data-letter",U[S(U)])})}function R(t,n){for(var e=t,a=n.length,r=0,o=[],i=0;a>i;i++)r=e+i,$(j[r]).attr("data-letter",n[i]),$(j[r]).attr("data-active",!0),$(j[r]).attr("data-index",st),o.push($(j[r])[0].id);Y.push(o)}function S(t){var n=Math.floor(Math.random()*t.length);return n}function F(t){for(var n,e,a=t.length;a;n=Math.floor(Math.random()*a),e=t[--a],t[a]=t[n],t[n]=e);return t}function H(){document.location.reload()}var L,j,I,A,O,U=t.lettersToUse||"abcdefghijklmnoprsštuvzž",q=t.wordsToFind,B=t.wordsExplanations,D=t.maxWords||6,G=D,J=$(".words-texts-wrapper .inner-wrapper"),K=0,N=0,P=0,Q=100,V=1e3,Y=[],Z=[],_=[],tt=[],nt=[],et=[],at=$(".words-board"),rt="click",ot=0,it=0,st=0;n()};
